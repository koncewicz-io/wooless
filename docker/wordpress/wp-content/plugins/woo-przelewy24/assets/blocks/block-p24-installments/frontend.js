(()=>{"use strict";const t=window.React,e=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"przelewy24/installments","version":"1.0.0","title":"P24 installments","category":"woocommerce","parent":["woocommerce/checkout-shipping-address-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"textdomain":"przelewy24","script":"file:./frontend.js","editorScript":"file:./index.js"}'),n=class{constructor(t){this.config=t,t.show&&window.InstallmentCalculatorApp&&this.init()}async init(){const{config:t,widgetType:e,showSimulator:n}=this.config,i=new window.InstallmentCalculatorApp(t);if((await i.create(`${e}-widget`)).render("p24_installment_widget"),n){const t=await i.create("calculator-modal"),e=document.getElementById("p24_installment_widget");t.render("p24_installment_modal"),e&&e.addEventListener("click",(()=>{const t=document.getElementById("installment-calculator-modal");t&&(t.style.display="block")}))}}};if(window?.wc){const{registerCheckoutBlock:i}=wc.blocksCheckout,{useEffect:l}=wp.element,{getSetting:o}=wc.wcSettings,a=o("p24-installments_data",{});i({metadata:e,component:()=>(l((()=>{new n(a)}),[]),(0,t.createElement)("div",{id:"p24_installment"},(0,t.createElement)("div",{id:"p24_installment_widget"}),a.showSimulator&&(0,t.createElement)("div",{id:"p24_installment_modal"})))})}})();